/*
 * Peppermint touch slider
 * v. 1.0.1 | https://github.com/wilddeer/Peppermint
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * MIT License
 */
function Peppermint(a,b){function c(a,b){if(y.slides[a]){if(a!==r){for(var c=y.dots.length-1;c>=0;c--)y.dots[c].className=(" "+y.dots[c].className+" ").replace(" "+x.active+" ","").replace(/^\s+|\s+$/g,"");y.dots[a].className=(y.dots[a].className+" "+x.active).replace(/^\s+|\s+$/g,""),r=a}}else a=r;return d(-a*y.width,void 0===b?p.speed:b),i(),p.onSlideChange&&p.onSlideChange(a),a}function d(a,b){var c=b?b+"ms":"";u.style.webkitTransitionDuration=u.style.MozTransitionDuration=u.style.msTransitionDuration=u.style.OTransitionDuration=u.style.transitionDuration=c,u.style.webkitTransform="translate("+a+"px,0) translateZ(0)",u.style.msTransform=u.style.MozTransform=u.style.OTransform=u.style.transform="translateX("+a+"px)"}function e(a,b){var c=b?b+"ms":"";u.style.webkitTransitionDuration=u.style.MozTransitionDuration=u.style.msTransitionDuration=u.style.OTransitionDuration=u.style.transitionDuration=c,u.style.left=a+"px"}function f(){var a=r+1;return a>q-1&&(a=0),c(a)}function g(){var a=r-1;return 0>a&&(a=q-1),c(a)}function h(){w=!0,i()}function i(){w&&(v&&clearTimeout(v),v=setTimeout(function(){f()},p.slideshowInterval))}function j(){v&&clearTimeout(v)}function k(){w=!1,v&&clearTimeout(v)}function l(){function a(a,b){m=!0,t(a)||(0===b&&a.preventDefault(),h={x:a.clientX||a.touches[0].clientX,y:a.clientY||a.touches[0].clientY,time:+new Date},g=void 0,l=!0,i={})}function b(a){g||!l||t(a)||(i.x=(a.clientX||a.touches[0].clientX)-h.x,i.x&&(m=!1),void 0===g&&(i.y=(a.clientY||a.touches[0].clientY)-h.y,g=Math.abs(i.x)<Math.abs(i.y))||(a.preventDefault(),j(),i.x=i.x/(!r&&i.x>0||r==q-1&&i.x<0?Math.abs(i.x)/y.width*2+1:1),d(i.x-y.width*r)))}function e(a){if(a.target&&a.target.blur(),!g&&l&&!t(a)){var b=Number(+new Date-h.time),d=z>b&&Math.abs(i.x)>20;d||Math.abs(i.x)>y.width/4?i.x<0?c(r+1,p.touchSpeed):c(r-1,p.touchSpeed):c(r),p.stopSlideshowAfterInteraction&&k(),l=!1}}function f(a){g||!l||t(a)||(c(r),p.stopSlideshowAfterInteraction&&k(),l=!1)}var g,h={},i={},l=!1,m=!0;if(A.pointerEvents)var o=2,s={start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointerleave"},t=p.mouseMove?function(a){return!a.isPrimary}:function(a){return!a.isPrimary||"touch"!==a.pointerType&&"pen"!==a.pointerType};else if(A.msPointerEvents)var o=1,s={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",cancel:"MSPointerCancel"},t=function(a){return!a.isPrimary||a.pointerType!==a.MSPOINTER_TYPE_TOUCH};else var o=!1,s={start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},t=function(a){return a.touches&&a.touches.length>1||a.scale&&1!==a.scale};n(u,s.start,a,!1),n(u,s.move,b,!1),n(u,s.end,e,!1),n(u,s.cancel,f,!1),n(u,"dragstart",function(a){a.preventDefault()},!1),p.mouseMove&&!o&&(n(u,"mousedown",function(b){a(b,0)},!1),n(u,"mousemove",b,!1),n(u,"mouseup",e,!1),n(u,"mouseleave",f,!1)),n(u,"click",function(a){m||a.preventDefault()},!1)}function m(){y.width=a.offsetWidth,u.style.width=y.width*q+"px";for(var b=0;q>b;b++)y.slides[b].style.width=y.width+"px";d(-r*y.width)}function n(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function o(){(!A.transform||window.opera)&&(d=e),u=document.createElement("div"),u.className="slides";for(var b=0,f=a.children.length;f>b;b++){var g=a.children[b],i=document.createElement("li"),j=g.getElementsByTagName("a");y.slides.push(g),i.setAttribute("tabindex","0"),i.setAttribute("role","button"),i.innerHTML="<span></span>",n(i,"click",function(a,b){return function(){b.blur(),c(a),p.stopSlideshowAfterInteraction&&k()}}(b,i),!1),n(i,"keyup",function(a){return function(b){13==b.keyCode&&(c(a),p.stopSlideshowAfterInteraction&&k())}}(b),!1);for(var l=j.length-1;l>=0;l--)n(j[l],"focus",function(b){return function(){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),c(b)}}(b),!1);y.dots.push(i)}q=y.slides.length,s=100/q,a.className+=" "+x.active+(p.mouseMove?" "+x.mouse:""),y.width=a.offsetWidth,u.style.width=y.width*q+"px";for(var b=0;q>b;b++)y.slides[b].style.width=y.width+"px",u.appendChild(y.slides[b]);if(a.appendChild(u),p.dots){t=document.createElement("ul"),t.className="dots";for(var b=0,f=y.dots.length;f>b;b++)t.appendChild(y.dots[b]);p.dotsFirst?a.insertBefore(t,a.firstChild):a.appendChild(t)}n(window,"resize",m,!1),n(window,"orientationchange",m,!1),c(p.startSlide,0),p.slideshow&&h(),p.onSetup&&p.onSetup(q)}var p=b||{};p.speed=p.speed||300,p.touchSpeed=p.touchSpeed||300,p.slideshow=p.slideshow||!1,p.slideshowInterval=p.slideshowInterval||4e3,p.stopSlideshowAfterInteraction=p.stopSlideshowAfterInteraction||!1,p.startSlide=p.startSlide||0,p.dots=p.dots||!1,p.dotsFirst=p.dotsFirst||!1,p.mouseMove=p.mouseMove||!1,p.cssPrefix=p.cssPrefix||"";var q,r,s,t,u,v,w,x={active:p.cssPrefix+"active",mouse:p.cssPrefix+"mouse"},y={slides:[],dots:[]},z=250,A={pointerEvents:!!window.navigator.pointerEnabled,msPointerEvents:!!window.navigator.msPointerEnabled,transform:function(){var a=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],b=document.createElement("div");for(var c in a)if(void 0!==b.style[a[c]])return!0;return!1}()};return setTimeout(function(){o(),l()},0),{slideTo:function(a){return c(parseInt(a,10))},next:function(){return f()},prev:function(){return g()},start:function(){h()},stop:function(){k()},pause:function(){j()},getCurrentPos:function(){return r},getSlidesNumber:function(){return q},recalcWidth:function(){m()}}}window.jQuery&&!function($){$.fn.Peppermint=function(a){this.each(function(){$(this).data("Peppermint",Peppermint($(this)[0],a))})}}(window.jQuery);