/*
 * Peppermint touch slider
 * v. 1.0.1 | https://github.com/wilddeer/Peppermint
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * MIT License
 */
function Peppermint(a,b){function c(a,b){if(z.slides[a]){if(a!==s){for(var c=z.dots.length-1;c>=0;c--)z.dots[c].className=(" "+z.dots[c].className+" ").replace(" "+y.active+" ","").replace(/^\s+|\s+$/g,"");z.dots[a].className=(z.dots[a].className+" "+y.active).replace(/^\s+|\s+$/g,""),s=a}}else a=s;return d(-a*z.width,void 0===b?q.speed:b),i(),q.onSlideChange&&q.onSlideChange(a),a}function d(a,b){var c=b?b+"ms":"";v.style.webkitTransitionDuration=v.style.MozTransitionDuration=v.style.msTransitionDuration=v.style.OTransitionDuration=v.style.transitionDuration=c,v.style.webkitTransform="translate("+a+"px,0) translateZ(0)",v.style.msTransform=v.style.MozTransform=v.style.OTransform=v.style.transform="translateX("+a+"px)"}function e(a,b){var c=b?b+"ms":"";v.style.webkitTransitionDuration=v.style.MozTransitionDuration=v.style.msTransitionDuration=v.style.OTransitionDuration=v.style.transitionDuration=c,v.style.left=a+"px"}function f(){var a=s+1;return a>r-1&&(a=0),c(a)}function g(){var a=s-1;return 0>a&&(a=r-1),c(a)}function h(){x=!0,i()}function i(){x&&(w&&clearTimeout(w),w=setTimeout(function(){f()},q.slideshowInterval))}function j(){w&&clearTimeout(w)}function k(){x=!1,w&&clearTimeout(w)}function l(){function a(a,c){m=!0,h=c,u[h](a)||(n(document,t[h][1],b,!1),n(document,t[h][2],e,!1),h&&a.preventDefault(),i={x:h?a.clientX:a.touches[0].clientX,y:h?a.clientY:a.touches[0].clientY,time:+new Date},g=void 0,l={})}function b(a){g||u[h](a)||(l.x=(h?a.clientX:a.touches[0].clientX)-i.x,l.x&&(m=!1),!h&&void 0===g&&(l.y=(h?a.clientY:a.touches[0].clientY)-i.y,g=Math.abs(l.x)<Math.abs(l.y))||(a.preventDefault(),j(),l.x=l.x/(!s&&l.x>0||s==r-1&&l.x<0?Math.abs(l.x)/z.width*3+1:1),d(l.x-z.width*s)))}function e(a){if(a.target&&a.target.blur&&a.target.blur(),!g&&!u[h](a)){var b=Number(+new Date-i.time),d=A>b&&Math.abs(l.x)>20;d||Math.abs(l.x)>z.width/4?l.x<0?c(s+1,q.touchSpeed):c(s-1,q.touchSpeed):c(s),q.stopSlideshowAfterInteraction&&k(),f()}}function f(){o(document,t[h][1],b,!1),o(document,t[h][2],e,!1)}var g,h,i={},l={},m=!0,p=B.pointerEvents?1:B.msPointerEvents?2:0,t=[["touchstart","touchmove","touchend"],["pointerdown","pointermove","pointerup"],["MSPointerDown","MSPointerMove","MSPointerUp"],["mousedown","mousemove","mouseup"]],u=[function(a){return a.touches&&a.touches.length>1||a.scale&&1!==a.scale},function(a){return!a.isPrimary||!q.mouseMove&&"touch"!==a.pointerType&&"pen"!==a.pointerType},function(a){return!a.isPrimary||!q.mouseMove&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH&&a.pointerType!==a.MSPOINTER_TYPE_PEN},function(){return!1}];n(v,t[p][0],function(b){a(b,p)},!1),n(v,"dragstart",function(a){a.preventDefault()},!1),q.mouseMove&&!p&&n(v,t[3][0],function(b){a(b,3)},!1),n(v,"click",function(a){m||a.preventDefault()},!1)}function m(){z.width=a.offsetWidth,v.style.width=z.width*r+"px";for(var b=0;r>b;b++)z.slides[b].style.width=z.width+"px";d(-s*z.width)}function n(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function o(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function p(){(!B.transform||window.opera)&&(d=e),v=document.createElement("div"),v.className="slides";for(var b=0,f=a.children.length;f>b;b++){var g=a.children[b],i=document.createElement("li"),j=g.getElementsByTagName("a");z.slides.push(g),i.setAttribute("tabindex","0"),i.setAttribute("role","button"),i.innerHTML="<span></span>",n(i,"click",function(a,b){return function(){b.blur(),c(a),q.stopSlideshowAfterInteraction&&k()}}(b,i),!1),n(i,"keyup",function(a){return function(b){13==b.keyCode&&(c(a),q.stopSlideshowAfterInteraction&&k())}}(b),!1);for(var l=j.length-1;l>=0;l--)n(j[l],"focus",function(b){return function(){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),c(b)}}(b),!1);z.dots.push(i)}r=z.slides.length,t=100/r,a.className+=" "+y.active+(q.mouseMove?" "+y.mouse:""),z.width=a.offsetWidth,v.style.width=z.width*r+"px";for(var b=0;r>b;b++)z.slides[b].style.width=z.width+"px",v.appendChild(z.slides[b]);if(a.appendChild(v),q.dots){u=document.createElement("ul"),u.className="dots";for(var b=0,f=z.dots.length;f>b;b++)u.appendChild(z.dots[b]);q.dotsFirst?a.insertBefore(u,a.firstChild):a.appendChild(u)}n(window,"resize",m,!1),n(window,"orientationchange",m,!1),c(q.startSlide,0),q.slideshow&&h(),q.onSetup&&q.onSetup(r)}var q=b||{};q.speed=q.speed||300,q.touchSpeed=q.touchSpeed||300,q.slideshow=q.slideshow||!1,q.slideshowInterval=q.slideshowInterval||4e3,q.stopSlideshowAfterInteraction=q.stopSlideshowAfterInteraction||!1,q.startSlide=q.startSlide||0,q.dots=q.dots||!1,q.dotsFirst=q.dotsFirst||!1,q.mouseMove=q.mouseMove||!1,q.cssPrefix=q.cssPrefix||"";var r,s,t,u,v,w,x,y={active:q.cssPrefix+"active",mouse:q.cssPrefix+"mouse"},z={slides:[],dots:[]},A=250,B={pointerEvents:!!window.navigator.pointerEnabled,msPointerEvents:!!window.navigator.msPointerEnabled,transform:function(){var a=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],b=document.createElement("div");for(var c in a)if(void 0!==b.style[a[c]])return!0;return!1}()};return setTimeout(function(){p(),l()},0),{slideTo:function(a){return c(parseInt(a,10))},next:function(){return f()},prev:function(){return g()},start:function(){h()},stop:function(){k()},pause:function(){j()},getCurrentPos:function(){return s},getSlidesNumber:function(){return r},recalcWidth:function(){m()}}}window.jQuery&&!function($){$.fn.Peppermint=function(a){this.each(function(){$(this).data("Peppermint",Peppermint($(this)[0],a))})}}(window.jQuery);